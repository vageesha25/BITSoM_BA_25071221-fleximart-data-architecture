import{a as v,r as m,O as S,v as i,f as k,h as l,k as s,t as r,w as o,M as g,j as w,L as y,Q as u,o as $}from"./app-DzbCtFXP.js";import{E as U,a as C}from"./index-BExd77YI.js";import{E}from"./index-B2LYU3pt.js";import"./index-CAvTKiYZ.js";import"./_baseIteratee-QnkWekc2.js";import"./isEqual-BdMtZB5P.js";import"./merge-BN9r680A.js";import"./_initCloneObject-CUHH2U83.js";import"./isArrayLikeObject-Bf7ojnky.js";import"./index-ClCwDGTK.js";const B={class:"flex items-center pl-2 my-1"},M={class:"text-lg font-bold mr-2"},P={class:"w-full bg-[--progressBar-background] rounded-md h-6 relative"},j={class:"absolute inset-0 flex items-center justify-center text-sm text-gray-200"},z={class:"w-full bg-[--progressBar-background] rounded-md h-6 relative"},N={class:"absolute inset-0 flex items-center justify-center text-sm text-gray-200"},T={class:"w-full bg-[--progressBar-background] rounded-md h-6 relative"},x={class:"absolute inset-0 flex items-center justify-center text-sm text-gray-200"},J=v({__name:"esStatus",setup(H){const c=m(0),p=m([]);S(()=>{i.on("esStatus",n=>{p.value=n}).on("refresh_es_status",()=>{i.emit("esStatus")}),i.emit("esStatus");const e=()=>{c.value=window.innerHeight-110};e(),window.addEventListener("resize",e)});const d=e=>{const n=parseInt(e.replace("%",""));return n>90?"var(--vscode-charts-red)":n>60?"var(--vscode-charts-yellow)":"var(--vscode-charts-green)"};return(e,n)=>{const h=g("vsc-button"),b=g("vsc-tooltip"),a=C,f=E,_=U;return $(),k("div",null,[l("div",B,[l("div",M,r(e.$t("esStatus.node")),1),s(b,{title:e.$t("common.refresh")},{default:o(()=>[s(h,{size:"micro",icon:"codicon-refresh text-base",onClick:n[0]||(n[0]=t=>w(i).emit("esStatus"))})]),_:1},8,["title"])]),s(_,{data:p.value,height:c.value,border:""},{default:o(()=>[s(a,{prop:"ip",label:e.$t("esStatus.ip"),align:"left",width:"120"},null,8,["label"]),s(a,{prop:"name",label:e.$t("esStatus.name"),align:"left",width:"120"},null,8,["label"]),s(a,{prop:"isMain",label:e.$t("esStatus.master"),align:"center",width:"120"},{default:o(({row:t})=>[s(f,{type:t.isMain?"success":"info",class:"mr-2"},{default:o(()=>[y(r(t.isMain?e.$t("esStatus.yes"):e.$t("esStatus.no")),1)]),_:2},1032,["type"])]),_:1},8,["label"]),s(a,{prop:"heapPercent",label:e.$t("esStatus.heapUsage"),align:"center",width:"120"},{default:o(({row:t})=>[l("div",P,[l("div",{class:"h-6 rounded-md",style:u({width:t.heapPercent,backgroundColor:d(t.heapPercent)})},null,4),l("div",j,r(t.heapPercent),1)])]),_:1},8,["label"]),s(a,{prop:"diskUsage",label:e.$t("esStatus.diskUsage"),align:"center",width:"120"},{default:o(({row:t})=>[l("div",z,[l("div",{class:"h-6 rounded-md",style:u({width:t.diskUsage,backgroundColor:d(t.diskUsage)})},null,4),l("div",N,r(t.diskUsage),1)])]),_:1},8,["label"]),s(a,{prop:"cpuUsage",label:e.$t("esStatus.cpuUsage"),align:"center",width:"120"},{default:o(({row:t})=>[l("div",T,[l("div",{class:"h-6 rounded-md",style:u({width:t.cpuUsage,backgroundColor:d(t.cpuUsage)})},null,4),l("div",x,r(t.cpuUsage),1)])]),_:1},8,["label"]),s(a,{prop:"load_5m",label:e.$t("esStatus.load5m"),align:"center",width:"100"},null,8,["label"]),s(a,{prop:"segments.count",label:e.$t("esStatus.segmentsCount"),align:"center",width:"140"},null,8,["label"]),s(a,{prop:"segments.memory",label:e.$t("esStatus.segmentsSize"),align:"center",width:"140"},null,8,["label"]),s(a,{prop:"disk.used",label:"磁盘使用",align:"center",width:"100"}),s(a,{prop:"disk.total",label:"磁盘总量",align:"center",width:"100"})]),_:1},8,["data","height"])])}}});export{J as default};
